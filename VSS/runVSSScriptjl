#= Script to compile the two models above =#

using Revise
import OM
import OMBackend
import OMFrontend

function runModelsMTK(models, file)
  for model in models
    @info "Running : $model"
    @time OM.runModel(model, "test/$(file).mo", mode = OMBackend.MTK_MODE)
  end
end


function flattenPendulum()
  local tst = ["Pendulum"]
  local F = "Pendulum"
  @info "Flatten"  
  oldRes = flatten(tst, F)
  @info "Dumping the models"
  dumpModelsMTK(tst, F)
  #=lets try to run=#
  runModelsMTK(tst, F)
end

flattenPendulum()
flattenFreeFall()
